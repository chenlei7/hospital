<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>ProClinic-医院管理系统Bootstrap4前端框架</title>
	<!-- Fav  Icon Link -->
	<link rel="shortcut icon" type="image/png" th:href="@{/images/fav.png}">
	<!-- Bootstrap core CSS -->
	<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
	<!-- themify icons CSS -->
	<link rel="stylesheet" th:href="@{/css/themify-icons.css}">
	<!-- Animations CSS -->
	<link rel="stylesheet" th:href="@{/css/animate.css}">
	<!-- Main CSS -->
	<link rel="stylesheet" th:href="@{/css/styles.css}">
	<link rel="stylesheet" th:href="@{/css/green.css}" id="style_theme">
	<link rel="stylesheet" th:href="@{/css/responsive.css}">
	<!-- morris charts -->
	<link rel="stylesheet" th:href="@{/charts/css/morris.css}">
	<!-- jvectormap -->
	<link rel="stylesheet" th:href="@{/css/jquery-jvectormap.css}">
	<link rel="stylesheet" th:href="@{/datatable/dataTables.bootstrap4.min.css}">

	<script th:src="@{/js/modernizr.min.js}"></script>
</head>

<body>
<!-- Pre Loader -->
<div class="loading">
	<div class="spinner">
		<div class="double-bounce1"></div>
		<div class="double-bounce2"></div>
	</div>
</div>
<!--/Pre Loader -->
<!-- Color Changer -->
<div class="theme-settings" id="switcher">
		<span class="theme-click">
			<span class="ti-settings"></span>
		</span>
	<span class="theme-color theme-default theme-active" data-color="green"></span>
	<span class="theme-color theme-blue" data-color="blue"></span>
	<span class="theme-color theme-red" data-color="red"></span>
	<span class="theme-color theme-violet" data-color="violet"></span>
	<span class="theme-color theme-yellow" data-color="yellow"></span>
</div>
<!-- /Color Changer -->
<div class="wrapper">
	<!-- Page Content -->
	<div id="content">
		<!-- Top Navigation -->
		<div class="container top-brand">
			<nav class="navbar navbar-default">
				<div class="navbar-header">
					<div class="sidebar-header"> <a href="/personnel/index"><img th:src="@{/images/logo-dark.png}"  class="logo" alt="logo"></a>
					</div>
				</div>
				<ul class="nav justify-content-end">
					<li class="nav-item">
						<a class="nav-link">
							<span title="Fullscreen" class="ti-fullscreen fullscreen"></span>
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" data-toggle="modal" data-target=".lochana-modal-lg">
							<span class="ti-search"></span>
						</a>
						<div class="modal fade lochana-modal-lg" tabindex="-1" role="dialog" aria-hidden="true">
							<div class="modal-dialog modal-lorvens">
								<div class="modal-content lochana-box-shadow2">
									<div class="modal-header">
										<h5 class="modal-title">Search Patient/员工:</h5>
										<span class="ti-close" data-dismiss="modal" aria-label="Close">
												</span>
									</div>
									<div class="modal-body">
										<form>
											<div class="form-group">
												<input type="text" class="form-control" id="search-term" placeholder="Type text here">
												<button type="button" class="btn btn-lorvens lochana-bg">
													<span class="ti-location-arrow"></span> Search</button>
											</div>
										</form>
									</div>
								</div>
							</div>
						</div>
					</li>
					<li class="nav-item">
						<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
						   aria-expanded="false">
							<span class="ti-announcement"></span>
						</a>
						<div class="dropdown-menu lochana-box-shadow2 notifications animated flipInY">
							<h5>Notifications</h5>
							<a class="dropdown-item" href="#">
								<span class="ti-wheelchair"></span> New Patient Added</a>
							<a class="dropdown-item" href="#">
								<span class="ti-money"></span> Patient payment done</a>
							<a class="dropdown-item" href="#">
								<span class="ti-time"></span>Patient Appointment booked</a>
							<a class="dropdown-item" href="#">
								<span class="ti-wheelchair"></span> New Patient Added</a>
						</div>
					</li>
					<li class="nav-item">
						<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
						   aria-expanded="false">
							<span class="ti-user"></span>
						</a>
						<div class="dropdown-menu lochana-box-shadow2 profile animated flipInY">
							<h5>John Willing</h5>
							<a class="dropdown-item" href="#">
								<span class="ti-settings"></span> Settings</a>
							<a class="dropdown-item" href="#">
								<span class="ti-help-alt"></span> Help</a>
							<a class="dropdown-item" href="#">
								<span class="ti-power-off"></span> Logout</a>
						</div>
					</li>
				</ul>

			</nav>
		</div>
		<!-- /Top Navigation -->
		<!-- Menu -->
		<div class="container menu-nav">
			<nav class="navbar navbar-expand-lg lochana-bg text-white">
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
						aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
					<span class="ti-menu text-white"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav mr-auto">
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
							   aria-expanded="false"><span class="ti-home"></span> 控制面板</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="/personnel/index">默认</a>
							</div>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
							   aria-expanded="false"><span class="ti-wheelchair"></span> 病人管理</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="add-patient.html">添加病人信息</a>
								<a class="dropdown-item" href="patients.html">查看病人信息</a>
								<a class="dropdown-item" href="about-patient.html">病人详情</a>
								<a class="dropdown-item" href="edit-patient.html">编辑病人信息</a>
							</div>
						</li>
						<!--医生管理-->
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
							   aria-expanded="false"><span class="ti-user"></span> 医生管理</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="/personnel/addDoctor">添加医生信息</a>
								<a class="dropdown-item" href="/doctor/doctors">查询医生信息</a>
								<a class="dropdown-item" href="/doctor/doctorInfo">医生信息详情</a>
								<a class="dropdown-item" href="/personnel/editDoctor">编辑医生信息</a>
							</div>
						</li>
						<!--护士管理-->
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
							   aria-expanded="false"><span class="ti-user"></span> 护士管理</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="/personnel/addNurse">添加护士信息</a>
								<a class="dropdown-item" href="/nurse/nurses">查询护士信息</a>
								<a class="dropdown-item" href="/nurse/nurseInfo">护士信息详情</a>
								<a class="dropdown-item" href="/personnel/editNurse">编辑护士信息</a>
							</div>
						</li>
						<!--员工管理-->
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
							   aria-expanded="false"><span class="ti-user"></span> 员工管理</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="/personnel/addOther">添加员工信息</a>
								<a class="dropdown-item" href="/other/others">查询员工信息</a>
								<a class="dropdown-item" href="/other/otherInfo">员工信息详情</a>
								<a class="dropdown-item" href="/personnel/editOther">编辑员工信息</a>
							</div>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
							   aria-expanded="false"><span class="ti-pencil-alt"></span> 出诊管理</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="add-appointment.html">添加出诊信息</a>
								<a class="dropdown-item" href="appointments.html">查询出诊信息</a>
								<a class="dropdown-item" href="about-appointment.html">出诊信息详情</a>
								<a class="dropdown-item" href="edit-appointment.html">编辑出诊信息</a>
							</div>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
							   aria-expanded="false"><span class="ti-money"></span> 支付管理</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="add-payment.html">添加支付</a>
								<a class="dropdown-item" href="payments.html">所有支付</a>
								<a class="dropdown-item" href="about-payment.html">发票</a>
							</div>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
							   aria-expanded="false"><span class="ti-key"></span> 病房分配</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="add-room.html">添加病房</a>
								<a class="dropdown-item" href="rooms.html">查询病房</a>
								<a class="dropdown-item" href="edit-room.html">编辑病房信息</a>
							</div>
						</li>

						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
							   aria-expanded="false"><span class="ti-file"></span> 其它页面</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="login.html">登录</a>
								<a class="dropdown-item" href="sign-up.html">注册</a>
								<a class="dropdown-item" href="404.html">404</a>
								<a class="dropdown-item" href="blank-page.html">空白页</a>
								<a class="dropdown-item" href="pricing.html">价格表</a>
								<a class="dropdown-item" href="faq.html">FAQ</a>
								<a class="dropdown-item" href="invoice.html">发票</a>
							</div>
						</li>
					</ul>
				</div>
			</nav>
		</div>
		<!-- /Menu -->
		<!-- Breadcrumb -->
		<!-- Page Title -->
		<div class="container mt-0">
			<div class="row breadcrumb-bar">
				<div class="col-md-6">
					<h3 class="block-title">员工 All</h3>
				</div>
				<div class="col-md-6">
					<ol class="breadcrumb">
						<li class="breadcrumb-item">
							<a href="index.html">
								<span class="ti-home"></span>
							</a>
						</li>
						<li class="breadcrumb-item">员工 </li>
						<li class="breadcrumb-item active">员工 All</li>
					</ol>
				</div>
			</div>
		</div>
		<!-- /Page Title -->

		<!-- /Breadcrumb -->
		<!-- Main Content -->
		<div class="container">

			<div class="row">
				<!-- Widget Item -->
				<div class="col-md-12">
					<div class="widget-area-2 lochana-box-shadow">
						<h3 class="widget-title">员工 All</h3>
						<div class="table-responsive mb-3">
							<table id="tableId" class="table table-bordered table-striped">
								<thead>
								<tr>
									<th class="no-sort">
										<div class="custom-control custom-checkbox">
											<input class="custom-control-input" type="checkbox" id="select-all">
											<label class="custom-control-label" for="select-all"></label>
										</div>
									</th>
									<th>Number</th>
									<th>Name</th>
									<th>WorkSpace</th>
									<th>WorkDate</th>
									<th>科室</th>
									<th>现状</th>
								</tr>
								</thead>
								<tbody>
								<tr th:each="other:${others}">
									<td>
										<div class="custom-control custom-checkbox">
											<input class="custom-control-input" type="checkbox" th:id="${other.id}" name="otherNum" th:value="${other.otherNum}">
											<label class="custom-control-label" th:for="${other.id}"></label>
										</div>
									</td>
									<td th:text="${other.otherNum}"></td>
									<td th:text="${other.otherName}"></td>
									<td th:text="${other.otherWorkspace}"></td>
									<td th:text="${other.otherWorkDate}"></td>
									<td th:text="${other.otherPosition}"></td>
									<td>
										<span class="badge badge-success"  th:text="${other.otherState}"></span>
									</td>
								</tr>
								</tbody>
							</table>

							<!-- /Export links-->
							<button type="button" class="btn btn-danger mt-3 mb-0" onclick="delOther()"><span class="ti-trash"></span> DELETE</button>
							<button type="button" class="btn btn-primary mt-3 mb-0" onclick="openEditModal()"><span class="ti-pencil-alt"></span> EDIT</button>
						</div>
					</div>
				</div>
				<!-- /Widget Item -->
			</div>
		</div>
		<!-- /Main Content -->
		<!--Copy Rights-->
		<div class="container">
			<div class="d-sm-flex justify-content-center">
				<span class="text-muted text-center d-block d-sm-inline-block">Copyright © 2018 <a href="#" target="_blank">konnectcode</a>. All rights reserved.</span>
			</div>
		</div>
		<!-- /Copy Rights-->
	</div>
	<!-- /Page Content -->
</div>
<!-- Back to Top -->
<a id="back-to-top" href="#" class="back-to-top">
	<span class="ti-angle-up"></span>
</a>
<!-- /Back to Top -->
<!-- Jquery Library-->
<script th:src="@{/js/jquery-3.2.1.min.js}"></script>
<!-- Popper Library-->
<script th:src="@{/js/popper.min.js}"></script>
<!-- Bootstrap Library-->
<script th:src="@{/js/bootstrap.min.js}"></script>
<!-- Datatable  -->
<script th:src="@{/datatable/jquery.dataTables.min.js}"></script>
<script th:src="@{/datatable/dataTables.bootstrap4.min.js}"></script>

<!-- Custom Script-->
<script th:src="@{/js/custom.js}"></script>
<script th:src="@{/js/custom-datatables.js}"></script>


<script th:inline="javascript">

	/*全选*/
	$("#select-all").click(function(){
		$("input[name='otherNum']").each(function(){
			if (this.checked) {
				this.checked = false;
			}
			else {
				this.checked = true;
			}
		});
	})

	/*批量删除*/
	function delOther() {
		var result="";
		var count=0;
		$("input[name='otherNum']:checked").each(function(){
			if($(this).is(':checked')){
				result+=$(this).attr('value') +",";
				count++;
			}else{}
		});
		if(!confirm("确定删除这"+count+"员工信息?")){
			return;
		}
		if(result==",,"){
			alert("删除的信息有误")
		}else{
			window.location.href= "/other/deleteOther?tag="+result;
			alert("删除成功");
			window.location.href = "http://localhost:8080/other/others";
		}
	}

	/*修改护士的现状*/
	function editOther() {
		var result="";
		var d = "";
		var otherState=$("#otherNowState").val();
		d = $("input[name='otherNum']:checked").each(function(){;
			result = $(this).attr('value');
		});
		console.log(otherState)
		if(otherState==""){
			alert("请输入要修改的现状")
		}else{
			window.location.href= "/other/editOtherNowState?otherState="+otherState+"&tag="+result;
			alert("修改成功");
			window.location.href = "http://localhost:8080/other/others";
		}
	}

	/*打开修改模态框*/
	function openEditModal(editModal) {
		var result="";
		var otherState="";
		otherState = $("input[name='otherNum']:checked").each(function(){
			result = $(this).attr('value');
		});
		if(result==""){
			alert("选择出错")
		}else{
			$("#editModal").modal('show');
		}
	}

</script>
<!--修改模态框-->
<div class="modal fade" id="editModal" data-th-background="static" data-th-keytype="false">
	<div class="modal-dialog">
		<div class="modal-content">
			<!--顶部标题-->
			<div class="modal-header">
				<!--标题-->
				<h5>修改员工现状</h5>
				<button type="button" class="close" data-dismiss="modal">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<!--内容-->
			<div class="modal-body">
				<form id="formEditNurse">
					<input type="text" hidden id="academeIDU">
					<div class="form-group row">
						<label for="otherNowState"  class="col-3">员工现状 NowState</label>
						<div class="form-group col-md-6">
							<select class="form-control" id="otherNowState" name="otherNowState">
								<option>已出工</option>
								<option>可出工</option>
								<option>请假</option>
								<option>休假</option>
							</select>
						</div>
					</div>
				</form>
			</div>
			<button type="button" class="btn btn-primary mt-3 mb-0" onclick="editOther()"><span class="ti-pencil-alt"></span> EDIT</button>
		</div>
	</div>
</div>

</body>
</html>