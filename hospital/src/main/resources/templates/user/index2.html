<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width"/>
    <title>健康医院</title>
    <link th:href="@{/css/index_style.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/layui/css/layui.css}" rel="stylesheet">
    <link th:href="@{/font-awesome/css/font-awesome.min.css}" rel="stylesheet">
    <link th:href="@{/css/animate.css}" rel="stylesheet">
    <script th:src="@{/layui/layui.js}" type="text/javascript"></script>
    <script th:src="@{/js/wow.min.js}" type="text/javascript"></script>
    <script th:src="@{/js/index.js}" type="text/javascript"></script>
    <script th:src="@{/js/jquery-1.11.3.min.js}" type="text/javascript"></script>
    <script type="text/javascript" th:src="@{/js/echarts.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/china.js}"></script>
    <script type="text/javascript" th:src="@{/js/worldZH.js}"></script>
</head>
<body>

<div class="section" id="section1" style="background-image: url('/images/hospitalBg2.jpg')">
    <div class="fp-tablecell">
        <div class="page1">
            <div class="nav wow zoomIn" data-wow-duration="2s">
                <h1>健康医院</h1>
                <p>用我们的热情,换大众的健康</p>
                <a class="layui-btn layui-btn-normal" style="margin-top: 20px" href="/user/registered"> 挂号 </a>
                <a class="layui-btn layui-btn-normal" style="margin-top: 20px" href="/user/leave"> 留言 </a>
            </div>
            <a class="next wow fadeInUp" data-wow-duration="2s" id="next"></a>
        </div>
    </div>
</div>

<div class="section" id="section6">
    <div class="fp-tablecell">
        <div class="page4">
            <div class="warp-box">
                <div class="about">
                    <div class="inner">
                        <h1 class="wow fadeInLeft">世界疫情实时</h1>
                        <a href="/user/index">全国疫情</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<center>
    <div id="main" style="width: 80%; height: 400px;"></div>
</center>


<div class="section" id="section2">
    <div class="fp-tablecell">
        <div class="page2">
            <div class="warp-box">
                <div class="new-article">
                    <div class="inner wow fadeInDown" data-wow-delay=".2s">
                        <h1>防疫推荐</h1>
                        <p>
                            在疫情期间，做好防疫工作，人人有责
                            <br>那么，今天你做了以下防疫工作吗
                        </p>
                    </div>
                </div>

                <div class="layui-row">
                    <div class="layui-col-xs12 layui-col-sm4 layui-col-md4  wow fadeInUp" style="padding: 0 10px">
                        <div class="single-news">
                            <div class="news-head">
                                <img th:src="@{/images/222.jpg}">

                            </div>
                            <div class="news-content">
                                <h4>
                                    <a href="#">
                                        <span>[[${a1.title}]]</span>
                                    </a>
                                </h4>
                                <div class="date">
                                    <span>[[${a1.date}]]</span>
                                </div>
                                <p>
                                    <span>[[${a1.content}]]</span>
                                </p>

                            </div>
                        </div>
                    </div>

                    <div class="layui-col-xs12 layui-col-sm4 layui-col-md4  wow fadeInUp" data-wow-delay=".2s"
                         style="padding: 0 10px">
                        <div class="single-news">
                            <div class="news-head">
                                <img th:src="@{/images/222.jpg}">
                            </div>
                            <div class="news-content">
                                <h4>
                                    <a href="#">
                                        <span>[[${a2.title}]]</span>
                                    </a>
                                </h4>
                                <div class="date">
                                    <span>[[${a2.date}]]</span>
                                </div>
                                <p>
                                    <span>[[${a2.content}]]</span>
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="layui-col-xs12 layui-col-sm4 layui-col-md4  wow fadeInUp" data-wow-delay=".4s"
                         style="padding: 0 10px">
                        <div class="single-news">
                            <div class="news-head">
                                <img th:src="@{/images/222.jpg}">
                            </div>
                            <div class="news-content">
                                <h4>
                                    <a href="#">
                                        <span>[[${a3.title}]]</span>
                                    </a>
                                </h4>
                                <div class="date">
                                    <span>[[${a3.date}]]</span>
                                </div>
                                <p>
                                    <span>[[${a3.content}]]</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="section" id="section4">
    <div class="fp-tablecell">
        <div class="page4">
            <div class="warp-box">
                <div class="about">
                    <div class="inner">
                        <h1 class="wow fadeInLeft">医院宣言</h1>
                        <p class="wow fadeInRight">
                            改善服务态度，提高服务质量，优化服务流程，创新服务模式。
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<footer class="footer wow fadeInUp" id="contact">
    <div class="footer-top">
        <div class="container">
            <div class="layui-row">
                <div class="layui-col-xs12 layui-col-sm12 layui-col-md4">
                    <div class="single-widget contact">
                        <h2>联系我</h2>
                        <ul class="list">
                            <li><i class="fa fa-map"></i>地址: 重庆市潼南区</li>
                            <li><i class="fa fa-qq"></i>QQ: 1575422375</li>
                            <li><i class="fa fa-envelope"></i>邮箱: 1575422375@qq.com</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="copyright">
        <div class="container">
            <div class="layui-row">
                <div class="layui-col-xs12 layui-col-sm12 layui-col-md12 text-center">
                    <p>Copyright &copy; 2020-2020 陈陈 渝ICP备2020011190号</p>
                </div>
            </div>
        </div>
    </div>
</footer>
</body>
<script th:inline="javascript">

    // 绘制图表
    let worldChart = echarts.init(document.getElementById('main'));
    var COLORS = ["#ffffff", "#faebd2", "#e9a188", "#d56355", "#bb3937", "#772526", "#480f10"];//图例里的颜色

    let option = {
        backgroundColor: "#eeeeee",
        title: {    //地图显示标题
            show: false,
            text: '',
            top:"30px",
            left: 'center',
            textStyle: {color: '#000'}
        },
        visualMap: {   //图列显示柱
            type: 'piecewise',
            left:'left',
            realtime: false,
            calculable : true,
            pieces: [{
                value: 0, color: COLORS[0]
            }, {
                min: 1, max: 9, color: COLORS[1]
            }, {
                min: 10, max: 99, color: COLORS[2]
            }, {
                min: 100, max: 499, color: COLORS[3]
            }, {
                min: 500, max: 999, color: COLORS[4]
            }, {
                min: 1000, max: 10000, color: COLORS[5]
            }, {
                min: 10000, color: COLORS[6]
            }],

            inRange: {
                color: COLORS //取值范围的颜色
            },
            show: true//图注
        },
        toolbox: {  //工具栏
            show: false,
            orient: 'vertical',
            top:50,
            itemGap:20,
            left:30,
            feature: {
                dataView: {readOnly: false},
                restore: {},
                saveAsImage: {}
            }
        },
        tooltip: {//提示框组件
            formatter: function (params, ticket, callback) {//提示框浮层内容格式器，支持字符串模板和回调函数两种形式。
                return params.seriesName + '<br />' + params.name + '：' + params.value
            }//数据格式化
        },
        series: [{
            name:"总计人数",
            type: 'map',
            mapType: 'world',
            roam: true,
            zoom: 1,
            mapLocation: {y: 100},
            data:(function () {
                var datas = [];
                $.ajax({
                    type: "GET",
                    url: "http://localhost:8080/world/list",
                    dataType: "json",
                    async: false,
                    success: function (data) {
                        for (var i = 0; i < data.length; i++) {
                            datas.push({
                                "name": data[i].provinceName,
                                "value": data[i].currentConfirmedCount
                            })
                        }
                    }
                })
                return datas;
            })(),
            symbolSize: 12,
            label: {
                normal: {show: false},
                emphasis: {show: true}
            },
            itemStyle: {
                emphasis: {
                    borderColor: 'transparent',
                    borderWidth: 1
                }
            }
        }],
    };
    worldChart.setOption(option);
</script>
</html>